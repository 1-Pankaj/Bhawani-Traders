<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width,initial-scale=1,shrink-to-fit=no">
  <title>All Products – Bhawani Traders</title>

  <!-- Google Fonts -->
  <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;700&family=Poppins:wght@300;400;500;600;700&family=Dancing+Script:wght@700&display=swap" rel="stylesheet">

  <!-- Font Awesome -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">

  <!-- Bootstrap -->
  <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">

  <!-- Theme + page-specific styles -->
  <style>
    /* ------- DESIGN TOKENS ------- */
    :root {
      --primary-color:#1a237e;
      --secondary-color:#FFD700;
      --accent-color:#B71C1C;
      --light-color:#FFF8E1;
      --dark-color:#3E2723;
      --text-color:#333;
      --text-light:#757575;
    }
    body{font-family:'Poppins',sans-serif;color:var(--text-color);background:var(--light-color);line-height:1.6}

    h1,h2,h3,h4,h5,h6{font-family:'Playfair Display',serif;font-weight:700;color:var(--dark-color)}
    .display-font{font-family:'Dancing Script',cursive}

    /* ------- HEADER (re-use) ------- */
    .header{background:#fff;box-shadow:0 2px 10px rgba(0,0,0,.08);position:sticky;top:0;z-index:1000}
    .navbar-brand{font-family:'Dancing Script',cursive;font-size:2rem;color:var(--primary-color)!important}
    .nav-link{font-weight:500;color:var(--dark-color)!important;margin:0 10px;position:relative}
    .nav-link::after{content:'';position:absolute;left:0;bottom:0;width:0;height:2px;background:var(--accent-color);transition:.3s}
    .nav-link:hover,.nav-item.active .nav-link{color:var(--accent-color)!important}
    .nav-link:hover::after,.nav-item.active .nav-link::after{width:100%}
    .cart-icon{position:relative}
      .cart-count{position:absolute;top:-8px;right:-8px;background:var(--accent-color);color:#fff;border-radius:50%;width:18px;height:18px;font-size:11px;display:flex;align-items:center;justify-content:center}

    /* ------- HERO BANNER ------- */
    .shop-hero{background:url('assets/rajasthan-market.png') center/cover no-repeat;min-height:45vh;display:flex;align-items:center;justify-content:center;position:relative}
    .shop-hero::before{content:'';position:absolute;inset:0;background:rgba(0,0,0,.45)}
    .shop-hero h1{position:relative;color:#fff;font-size:3rem;z-index:2}

    /* ------- LAYOUT ------- */
    .products-section{padding:80px 0}
    .sidebar{background:#fff;border-radius:10px;box-shadow:0 4px 15px rgba(0,0,0,.07);padding:25px;position:sticky;top:110px}
    .filter-title{font-weight:600;color:var(--primary-color);margin-bottom:1rem}
    .price-range{height:5px;background:#ddd;border-radius:3px;position:relative;margin:18px 0}
    .price-range .thumb{width:18px;height:18px;background:var(--primary-color);border-radius:50%;position:absolute;top:50%;transform:translate(-50%,-50%);cursor:pointer}
    .price-label{font-size:.9rem;color:var(--text-light)}

    .product-card{background:#fff;border-radius:10px;overflow:hidden;box-shadow:0 5px 15px rgba(0,0,0,.05);transition:.3s;display:flex;flex-direction:column}
      .product-card:hover{transform:translateY(-7px);box-shadow:0 10px 25px rgba(0,0,0,.12)}
    .product-image{height:220px;position:relative;overflow:hidden}
      .product-image img{width:100%;height:100%;object-fit:cover;transition:.5s}
      .product-card:hover .product-image img{transform:scale(1.1)}
      .product-badge{position:absolute;top:12px;left:12px;background:var(--accent-color);color:#fff;padding:4px 10px;font-size:.75rem;border-radius:3px}
      .product-actions{position:absolute;bottom:-46px;left:0;right:0;background:#fff;display:flex;justify-content:center;transition:.3s}
      .product-action-btn{width:40px;height:40px;border:1px solid #ddd;border-radius:50%;margin:0 4px;display:flex;align-items:center;justify-content:center;color:var(--dark-color);background:#fff;transition:.3s}
      .product-action-btn:hover{background:var(--primary-color);color:#fff;border-color:var(--primary-color)}
      .product-card:hover .product-actions{bottom:0}

    .product-content{padding:18px;flex-grow:1;display:flex;flex-direction:column}
      .product-title{font-size:1rem;margin-bottom:4px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}
      .product-price{font-weight:700;color:var(--primary-color);margin-bottom:8px}
      .old-price{text-decoration:line-through;color:var(--text-light);font-size:.9rem;margin-right:6px}
      .product-rating{color:#FFD700;margin-bottom:8px}

    .add-to-cart{margin-top:auto;background:var(--primary-color);border:none;color:#fff;width:100%;padding:8px;border-radius:6px;font-weight:600;transition:.3s}
      .add-to-cart:hover{background:var(--dark-color)}

    /* ------- GRID & PAGINATION ------- */
    .products-grid{row-gap:30px}
    .pagination .page-link{border:none;color:var(--primary-color);font-weight:500}
    .pagination .active>.page-link{background:var(--primary-color);border-color:var(--primary-color)}

    /* ------- FOOTER (mini) ------- */
    .footer{background:var(--dark-color);color:#fff;padding:60px 0 20px;margin-top:80px;font-size:.95rem}
    .footer a{color:rgba(255,255,255,.7);transition:.3s}
    .footer a:hover{color:var(--secondary-color)}

    /* Responsive tweaks */
    @media(max-width:991.98px){
      .offcanvas-backdrop{opacity:0!important}
      #productSidebar.offcanvas.show{visibility:visible}
    }
  </style>
</head>

<body>

  <!-- ===== Header ===== -->
  <header class="header">
    <div class="container">
      <nav class="navbar navbar-expand-lg navbar-light py-3">
        <a class="navbar-brand" href="index.html"><span class="display-font">Bhawani</span> Traders</a>
        <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNav">
          <span class="navbar-toggler-icon"></span>
        </button>

        <div class="collapse navbar-collapse" id="navbarNav">
          <ul class="navbar-nav mr-auto">
            <li class="nav-item"><a class="nav-link" href="index.html">Home</a></li>
            <li class="nav-item active"><a class="nav-link" href="products.html">Shop</a></li>
            <li class="nav-item"><a class="nav-link" href="about.html">About</a></li>
            <li class="nav-item"><a class="nav-link" href="contact.html">Contact</a></li>
          </ul>

          <form class="form-inline my-2 my-lg-0 mx-auto d-none d-lg-block">
            <input class="form-control search-box" id="liveSearch" type="search" placeholder="Search products…">
          </form>

          <ul class="navbar-nav ml-auto">
            <li class="nav-item cart-icon">
              <a class="nav-link" href="cart.html"><i class="fas fa-shopping-cart"></i><span class="cart-count" id="cartCount">3</span></a>
            </li>
          </ul>
        </div>
      </nav>
    </div>
  </header>

  <!-- ===== Hero ===== -->
  <section class="shop-hero">
    <h1>Shop All Products</h1>
  </section>

  <!-- ===== Products ===== -->
  <section class="products-section">
    <div class="container">
      <div class="d-lg-none text-right mb-3">
        <button class="btn btn-outline-primary" data-toggle="offcanvas" data-target="#productSidebar">
          <i class="fas fa-sliders-h mr-1"></i>Filters
        </button>
      </div>
      <div class="row">
        <!-- Sidebar / off-canvas -->
        <div class="col-lg-3">
          <div id="productSidebar" class="sidebar offcanvas-lg offcanvas-start">
            <h5 class="filter-title">Filters</h5>

            <!-- Category -->
            <div class="mb-4">
              <h6 class="text-uppercase small font-weight-bold mb-2">Category</h6>
              <div class="custom-control custom-checkbox">
                <input type="checkbox" class="custom-control-input category-filter" id="catAll" value="all" checked>
                <label class="custom-control-label" for="catAll">All</label>
              </div>
              <div class="custom-control custom-checkbox"><input class="custom-control-input category-filter" type="checkbox" id="catGroceries" value="Groceries"><label class="custom-control-label" for="catGroceries">Groceries</label></div>
              <div class="custom-control custom-checkbox"><input class="custom-control-input category-filter" type="checkbox" id="catHousehold" value="Household"><label class="custom-control-label" for="catHousehold">Household</label></div>
              <div class="custom-control custom-checkbox"><input class="custom-control-input category-filter" type="checkbox" id="catPersonal" value="Personal Care"><label class="custom-control-label" for="catPersonal">Personal Care</label></div>
              <div class="custom-control custom-checkbox"><input class="custom-control-input category-filter" type="checkbox" id="catKitchen" value="Kitchenware"><label class="custom-control-label" for="catKitchen">Kitchenware</label></div>
              <div class="custom-control custom-checkbox"><input class="custom-control-input category-filter" type="checkbox" id="catTextiles" value="Textiles"><label class="custom-control-label" for="catTextiles">Textiles</label></div>
              <div class="custom-control custom-checkbox"><input class="custom-control-input category-filter" type="checkbox" id="catHandicrafts" value="Handicrafts"><label class="custom-control-label" for="catHandicrafts">Handicrafts</label></div>
            </div>

            <!-- Price -->
            <div class="mb-4">
              <h6 class="text-uppercase small font-weight-bold mb-2">Price</h6>
              <div class="price-range" id="priceTrack">
                <span class="thumb" id="thumbMin"></span>
                <span class="thumb" id="thumbMax"></span>
              </div>
              <div class="d-flex justify-content-between price-label">
                <span id="minPriceLabel">₹0</span><span id="maxPriceLabel">₹3000+</span>
              </div>
            </div>

            <!-- Rating -->
            <div>
              <h6 class="text-uppercase small font-weight-bold mb-2">Rating</h6>
              <select class="form-control" id="ratingFilter">
                <option value="0">All ratings</option>
                <option value="4">4 ★ & up</option>
                <option value="3">3 ★ & up</option>
              </select>
            </div>
          </div>
        </div>

        <!-- Main grid -->
        <div class="col-lg-9">
          <div class="d-flex justify-content-between align-items-center mb-3">
            <span id="productCount" class="text-muted small">0 items</span>
            <div>
              <select id="sortSelect" class="form-control">
                <option value="popular">Sort: Popularity</option>
                <option value="priceLow">Price: Low to High</option>
                <option value="priceHigh">Price: High to Low</option>
                <option value="newest">Newest</option>
              </select>
            </div>
          </div>

          <div class="row products-grid" id="productsGrid">
            <!-- product cards injected via JS -->
          </div>

          <!-- Pagination (static placeholder) -->
          <nav aria-label="Page navigation" class="mt-4">
            <ul class="pagination justify-content-center">
              <li class="page-item disabled"><span class="page-link">«</span></li>
              <li class="page-item active"><a class="page-link" href="#">1</a></li>
              <li class="page-item"><a class="page-link" href="#">2</a></li>
              <li class="page-item"><a class="page-link" href="#">3</a></li>
              <li class="page-item"><a class="page-link" href="#">»</a></li>
            </ul>
          </nav>
        </div>
      </div>
    </div>
  </section>

  <!-- ===== Footer ===== -->
  <footer class="footer">
    <div class="container text-center">
      <p class="mb-2">&copy; 2023 Bhawani Traders. All rights reserved.</p>
      <p>Designed with <i class="fas fa-heart text-danger"></i> in Rajasthan.</p>
    </div>
  </footer>

  <!-- ===== Scripts ===== -->
  <script src="https://code.jquery.com/jquery-3.5.1.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@1.16.1/dist/umd/popper.min.js"></script>
  <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>

  <script>
    /* ------------------------------
       1. Product data (static demo)
    ------------------------------ */
    const PRODUCTS = [
      {id:1,title:"Organic Rajasthani Masala",price:149,old:199,rating:4.5,badge:"New",img:"assets/product1.png",cat:"Groceries"},
      {id:2,title:"Bandhani Print Saree",price:1599,old:1999,rating:4,badge:"-20%",img:"assets/product2.png",cat:"Textiles"},
      {id:3,title:"Blue Pottery Vase",price:899,rating:5,badge:"",img:"assets/product3.png",cat:"Handicrafts"},
      {id:4,title:"Kundan Jewelry Set",price:2499,rating:5,badge:"Bestseller",img:"assets/product4.png",cat:"Handicrafts"},
      {id:5,title:"Hand Block Print Fabric",price:999,rating:4.5,badge:"",img:"assets/special1.png",cat:"Textiles"},
      {id:6,title:"Traditional Rajasthani Jutti",price:1499,rating:4.2,badge:"",img:"assets/special2.png",cat:"Personal Care"},
      {id:7,title:"Kathputli Puppet Set",price:799,rating:4.8,badge:"",img:"assets/special3.png",cat:"Handicrafts"},
      {id:8,title:"Copper Water Bottle",price:699,rating:4,badge:"",img:"https://source.unsplash.com/random/400x400?copper,bottle",cat:"Household"},
      {id:9,title:"Spice Gift Hamper",price:1499,rating:4.9,badge:"Gift",img:"assets/deal-of-the-day.png",cat:"Groceries"},
      {id:10,title:"Clay Cook-ware Pot",price:499,rating:4.1,badge:"",img:"https://source.unsplash.com/random/400x400?clay,pot",cat:"Kitchenware"}
    ];

    /* ------------------------------
       2. DOM helpers
    ------------------------------ */
    const $grid = $('#productsGrid'),
          $count = $('#productCount'),
          $search = $('#liveSearch'),
          $ratingSel = $('#ratingFilter'),
          $sortSel = $('#sortSelect');

    /* ------------------------------
       3. Price slider (pure JS)
    ------------------------------ */
    const track = document.getElementById('priceTrack'),
          thumbMin = document.getElementById('thumbMin'),
          thumbMax = document.getElementById('thumbMax'),
          minLbl = document.getElementById('minPriceLabel'),
          maxLbl = document.getElementById('maxPriceLabel');
    const PRICE_MIN = 0, PRICE_MAX = 3000;
    let currentMin = 0, currentMax = PRICE_MAX;

    // initial positions
    thumbMin.style.left = '0%';
    thumbMax.style.left = '100%';

    function setPriceLabels(){
      minLbl.textContent = '₹' + currentMin;
      maxLbl.textContent = currentMax === PRICE_MAX ? '₹'+PRICE_MAX+'+' : '₹'+currentMax;
    }
    setPriceLabels();

    function thumbDrag(evt,thumb,isMin){
      evt.preventDefault();
      const startX = evt.clientX || evt.touches[0].clientX;
      const trackRect = track.getBoundingClientRect();
      const startLeft = parseFloat(thumb.style.left);

      function onMove(e){
        const clientX = e.clientX || e.touches[0].clientX;
        let dx = ((clientX - startX)/trackRect.width)*100;
        let newLeft = Math.min(100,Math.max(0,startLeft+dx));
        if(isMin)newLeft = Math.min(newLeft,parseFloat(thumbMax.style.left)-5);
        else     newLeft = Math.max(newLeft,parseFloat(thumbMin.style.left)+5);
        thumb.style.left = newLeft+'%';

        const price = Math.round(PRICE_MIN + (PRICE_MAX-PRICE_MIN)*(newLeft/100));
        if(isMin){currentMin = price;}else{currentMax = price;}
        setPriceLabels();
      }
      function onUp(){document.removeEventListener('mousemove',onMove);document.removeEventListener('touchmove',onMove);listProducts();}
      document.addEventListener('mousemove',onMove);
      document.addEventListener('touchmove',onMove,{passive:false});
      document.addEventListener('mouseup',onUp,{once:true});
      document.addEventListener('touchend',onUp,{once:true});
    }
    ['mousedown','touchstart'].forEach(ev=>{
      thumbMin.addEventListener(ev,e=>thumbDrag(e,thumbMin,true),{passive:false});
      thumbMax.addEventListener(ev,e=>thumbDrag(e,thumbMax,false),{passive:false});
    });

    /* ------------------------------
       4. Listing, filtering, sorting
    ------------------------------ */
    function renderCard(p){
      return `<div class="col-xl-3 col-md-4 col-sm-6">
        <div class="product-card" data-id="${p.id}" data-cat="${p.cat}" data-price="${p.price}" data-rating="${p.rating}">
          <div class="product-image">
            <img src="${p.img}" alt="${p.title}">
            ${p.badge?`<span class="product-badge">${p.badge}</span>`:''}
            <div class="product-actions">
              <button class="product-action-btn" title="Wishlist"><i class="far fa-heart"></i></button>
              <button class="product-action-btn" title="Quick view"><i class="fas fa-search"></i></button>
              <button class="product-action-btn add-cart-quick" title="Add to Cart"><i class="fas fa-shopping-cart"></i></button>
            </div>
          </div>
          <div class="product-content">
            <h6 class="product-title" title="${p.title}">${p.title}</h6>
            <div class="product-price">${p.old?`<span class="old-price">₹${p.old}</span>`:''}₹${p.price}</div>
            <div class="product-rating">
              ${'<i class="fas fa-star"></i>'.repeat(Math.floor(p.rating))}${p.rating%1?'<i class="fas fa-star-half-alt"></i>':''}
            </div>
            <button class="btn add-to-cart">Add to Cart</button>
          </div>
        </div>
      </div>`;
    }

    function listProducts(){
      const searchText = $search.val().toLowerCase();
      const ratingMin = parseInt($ratingSel.val());
      const cats = $('.category-filter:checked').map((_,c)=>c.value).get();
      const sortBy = $sortSel.val();

      let list = PRODUCTS.filter(p=>{
        // category
        if(!cats.includes('all') && !cats.includes(p.cat))return false;
        // search
        if(searchText && !p.title.toLowerCase().includes(searchText))return false;
        // rating
        if(p.rating < ratingMin)return false;
        // price
        if(p.price < currentMin || p.price > currentMax)return false;
        return true;
      });

      // sort
      switch(sortBy){
        case'priceLow':list.sort((a,b)=>a.price-b.price);break;
        case'priceHigh':list.sort((a,b)=>b.price-a.price);break;
        case'newest':list.sort((a,b)=>b.id-a.id);break; // simple proxy
        default: break;
      }

      // inject
      $grid.html(list.map(renderCard).join(''));
      $count.text(`${list.length} item${list.length!==1?'s':''}`);
    }

    /* ------------------------------
       5. Event hooks
    ------------------------------ */
    $(document).ready(function(){
      listProducts();

      $search.on('keyup', listProducts);
      $('.category-filter').on('change',function(){
        if(this.id!=='catAll')$('#catAll').prop('checked',false);
        listProducts();
      });
      $('#catAll').on('change',function(){
        if(this.checked){$('.category-filter').not(this).prop('checked',false);}
        listProducts();
      });
      $ratingSel.on('change',listProducts);
      $sortSel.on('change',listProducts);

      // quick add to cart demo
      $grid.on('click','.add-cart-quick, .add-to-cart',function(){
        let count=parseInt($('#cartCount').text()||0);
        $('#cartCount').text(count+1);
        $(this).blur().toggleClass('btn-success').text('Added!').delay(1200).queue(function(){
          $(this).removeClass('btn-success').text('Add to Cart').dequeue();
        });
      });
    });
  </script>
</body>
</html>
